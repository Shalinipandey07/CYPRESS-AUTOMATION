/// <reference types="cypress" />
describe('Login test', function() {
    beforeEach(function(){
        cy.login('shalini03@yopmail.com','12345678')
        cy.log('User is logged in Successfully.')

    cy.wait(4000)
    })
    
    it('As an Admin/Owner I should be able create a new section to group test cases', ()=> {
        /*cy.wait(2000)
        cy.get('button:contains(New Project)').click()
        cy.get('.space-y-6 > :nth-child(1) > .text-base').contains('Create New Project')
        cy.get('.space-y-6 > :nth-child(1) > .text-sm').contains('Please fill in details of your new project.')
        cy.get('.appearance-none').type('TESTBOX1')
        cy.get('.resize-y').type('this is testbox project description')
        cy.get('#project-create-edit').click()
        cy.wait(4000)
        cy.log('.........User should get redirected to the project overview page........')*/
        cy.get(':nth-child(2) > .max-w-0 > .flex > .truncate > span').click()
        cy.wait(2000)
        cy.get('.-mb-px > :nth-child(4)').click()
        cy.wait(2000)
        cy.get('#show-pop-up').scrollIntoView().should('be.visible').should('be.enabled').click()
        cy.wait(2000)
        cy.get('.text-lg').contains('Create New Section')
        cy.get('.space-y-6 > :nth-child(1) > .text-sm').contains('Please fill in details of your new section')
        cy.get('[name=name]').type('Sign1')
        cy.get('[name=description]').type('Sign up')
        cy.get('#section-pop-up-button').should('be.visible').and('be.enabled').click()
        cy.wait(2000)
        cy.get('#show-pop-up').scrollIntoView().should('be.visible').should('be.enabled').click({force: true})
        cy.wait(2000)
        cy.get('.text-lg').contains('Create New Section')
        cy.get('.space-y-6 > :nth-child(1) > .text-sm').contains('Please fill in details of your new section')
        cy.get('[name=name]').type('Login1')
        cy.get('[name=description]').type('Login test cases section')
        cy.get('#section-pop-up-button').should('be.visible').and('be.enabled').click()
        cy.wait(4000)
        
})
it('As an Admin/Owner I should be able to add new test cases', ()=> {
    cy.get(':nth-child(2) > .max-w-0 > .flex > .truncate > span').click()
    cy.wait(2000)
    cy.get('.-mb-px > :nth-child(4)').click()
    cy.get(':nth-child(2) > .underline').click()
    cy.wait(3000)
    cy.get('.text-lg').contains('Add New Test Case')
    cy.get('.mb-6 > .text-sm').contains('Please fill in details of your new test case.')
    cy.get('[name=title]').type('As an Admin I should be able to see the home page after hitting the Url')
    cy.get('[name=preconditions]').type('QA site is up and running')
    cy.get('[name=steps]').type('iuhifsirgbsk;rgjleuhrgjrhbtgldblgr')
    cy.get('[name=expectedresult]').type('iuhifsirgbsk;rgjleuhrgjrhbtgldblgr')
    cy.get('#test-case-create-edit-2').should('be.visible').should('be.enabled').click()
    cy.wait(2000)
    cy.get('[name=title]').type('As an Admin I should be able to verify all the elements in home page')
    cy.get('[name=preconditions]').type('QA site is up and running')
    cy.get('[name=steps]').type('oiluehtliehrhigphser;goijetigheihtgea;rfijaeiluk')
    cy.get('[name=expectedresult]').type('iuhifsirgbsk;rgjleuhrgjrhbtgldblgr')
    cy.get('#test-case-create-edit-1').should('be.visible').should('be.enabled').click()
    //cy.get(':nth-child(1) > .border-gray-300').click()
    cy.wait(4000)
    cy.get(':nth-child(5) > .underline').click()
    cy.wait(3000)
    cy.get('.text-lg').contains('Add New Test Case')
    cy.get('.mb-6 > .text-sm').contains('Please fill in details of your new test case.')
    cy.get('[name=title]').type('As an Owner I should be able to signup successfully with valid credentials')
    cy.get('[name=preconditions]').type('QA site is up and running')
    cy.get('[name=steps]').type('iuhifsirgbsk;rgjleuhrgjrhbtgldblgr')
    cy.get('[name=expectedresult]').type('iuhifsirgbsk;rgjleuhrgjrhbtgldblgr')
    cy.get('#test-case-create-edit-1').should('be.visible').should('be.enabled').click()

})
it('As an Admin/Owner I should be able to add new test cases with separate button', ()=> {
    cy.get(':nth-child(2) > .max-w-0 > .flex > .truncate > span').click()
    cy.wait(2000)
    cy.get('.-mb-px > :nth-child(4)').click()
    cy.wait(3000)
    cy.get('button:contains(New Test Case)').click()
    cy.wait(2000)
    cy.get(':nth-child(1) > .mt-1 > .appearance-none').type('bfrflqwxdvxars')
    cy.get(':nth-child(2) > .mt-1 > .appearance-none').select('Login')
    cy.get(':nth-child(4) > .mt-1 > .resize-y').type('fydjtfsvgs')
    cy.get(':nth-child(5) > .mt-1 > .resize-y').type('bufasdlfasfc')
    cy.get(':nth-child(6) > .mt-1 > .resize-y').type('jfhvipadhvfpiahfvc')
    cy.get('#test-case-create-edit-1').click()
    cy.wait(4000)
    //cy.get('button:contains(Cancel)').click()
    cy.log('........Admin/Owner should be able to add test cases by clicking on New Test Case button......')
})
it('As an Admin/Owner I should be able to edit test cases', ()=> {
    cy.get(':nth-child(2) > .max-w-0 > .flex > .truncate > span').click()
    cy.wait(2000)
    cy.get('.-mb-px > :nth-child(4)').click()
    cy.wait(3000)
    cy.get(':nth-child(3) > .min-w-full > .bg-gray-50 > tr > .pb-1 > .mx-auto > .text-indigo-600').click()
    cy.get(':nth-child(3) > .min-w-full > .bg-gray-50 > tr > .pb-1 > .mx-auto > .text-indigo-600').click()
    cy.wait(2000)
    cy.get('.mt-4 > :nth-child(3) > .h-6').click()
    cy.wait(4000)
    cy.get('.text-lg').contains('Edit Selected Test Cases')
    cy.get('.mb-6 > .text-sm').contains('Please update details of selected test cases.')
    cy.get(':nth-child(2) > .mt-1 > .appearance-none').select('High')
    cy.get(':nth-child(3) > .mt-1 > .resize-y').type('xyx')
    cy.get(':nth-child(4) > .mt-1 > .resize-y').type('gjmxfgnxfgnzf')
    cy.get(':nth-child(5) > .mt-1 > .resize-y').type('xyz')
    cy.get('#test-case-create-edit').click()
    cy.log('...............Test Cases updated successfully................')
})

it('As an Admin/Owner I should be able to delete/bulk delete test cases', ()=> {
    cy.get(':nth-child(1) > .max-w-0 > .flex > .truncate > span').click()
    cy.wait(2000)
    cy.get('.-mb-px > :nth-child(4)').click()
    cy.wait(3000)
    cy.get(':nth-child(3) > .min-w-full > .divide-y > :nth-child(1) > #action-value > .flex > :nth-child(2) > path').click()
    cy.get('.mt-2 > .text-sm').contains('Are you sure want to delete the test case ?')
    cy.get('.inline-block > .mt-5 > .text-white').click()
    cy.wait(2000)
    cy.get(':nth-child(3) > .min-w-full > .bg-gray-50 > tr > .pb-1 > .mx-auto > .text-indigo-600').click()
    cy.get(':nth-child(6) > .min-w-full > .bg-gray-50 > tr > .pb-1 > .mx-auto > .text-indigo-600').click()
    cy.get('.mx-2 > .h-6 > path').click().wait(2000)
    cy.get('.mt-2 > .text-sm').contains('Are you sure you want to delete selected test cases ?')
    cy.get('.inline-block > .mt-5 > .text-white').click()


    })
})


